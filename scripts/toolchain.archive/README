                            AXIOM tests
===============================================================================

This directory contains the toolchain for the QEMU emulation of the AXIOM board
and some examples to use it:

 * toolchain	
   This directory contains the toolchain generated by buildroot to cross-compile
   application for the emulated AXIOM boards.	
   To use it, do the following commands after the extraction:
```
   # setup the toolchain
   ./setup_toolchain.sh
```
 * examples	
   To cross-compile the examples do the following commands:
```
   cd examples
   make
```
   The binaries are generated in the ```output``` dir and you can copy them to
   the running guests through ```copy_to_guests.sh``` utility:
```
   ./utils/host/copy_to_guests.sh -n $NODES -o ./output
```
   Before to launch the applications you need to start the axiom-init deamon in
   all guests:
```
   # in only one guest [the master node]
   /root/axiom_startup.sh -m

   # in the other guests
   /root/axiom_startup.sh
```
	* ompss_evimm	
	  This example implements Matrix Multiplication on top of Ompss		
	  To run in the guests, choose one guest and do the following:	
```
	  cd /root

	  # [option 1] using our script
	  ./run_tests_OMPSS.sh ./ompss_evimm $BLOCK_SIZE $MATRIX_SIZE

	  # [option 2] manually
	  export NX_ARGS="--cluster --cluster-network=axiom"
	  export NX_CLUSTER_NODE_MEMORY=16777216
	  export NX_GASNET_SEGMENT_SIZE=67108864
	  axiom-run -P ompss ./ompss_evimm $BLOCK_SIZE $MATRIX_SIZE
```
